---
phase: 02-projectile-ecs
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - crates/omega-core/src/lib.rs
  - crates/omega-core/src/simulation/mod.rs
autonomous: true

must_haves:
  truths:
    - "Stats struct includes weight: i32"
    - "Default character archetypes have specific weight values"
    - "ProjectilePhysicalProps struct exists to describe mass/volume for interception"
  artifacts:
    - path: "crates/omega-core/src/lib.rs"
      provides: "Updated Stats with weight"
    - path: "crates/omega-core/src/simulation/mod.rs"
      provides: "Projectile primitives for physical simulation"
---

<objective>
Introduce the foundational 'Weight' stat and projectile physical primitives. This provides the 'heft' required for knockback, displacement, and mid-air interception logic.

Output: Updated Stats struct and new physical property definitions in omega-core.
</objective>

<tasks>

<task type="auto">
  <name>Task 1: Add weight stat to omega-core::Stats</name>
  <files>
    crates/omega-core/src/lib.rs
  </files>
  <action>
Update the `Stats` struct in `crates/omega-core/src/lib.rs`:
- Add `pub weight: i32`.
- Update `Stats` initialization in any relevant functions (if any exist besides constructors).
- Update `default_character_archetypes` to include weights:
  - Fighter: 80 (kg)
  - Mage: 65
  - Rogue: 70
  - Priest: 75
- Update `Player` and `Monster` creation if they use explicit stat blocks.
  </action>
</task>

<task type="auto">
  <name>Task 2: Define Trajectory and Physical primitives in omega-core</name>
  <files>
    crates/omega-core/src/simulation/mod.rs
  </files>
  <action>
Add the following to `crates/omega-core/src/simulation/mod.rs` (or a new submodule if preferred):

```rust
#[derive(Debug, Clone, Copy, PartialEq, Eq, Serialize, Deserialize)]
pub enum TrajectoryMode {
    HighArc,
    FlatArc,
    Rolling,
    Beam,
}

#[derive(Debug, Clone, Copy, Serialize, Deserialize)]
pub struct ProjectilePhysicalProps {
    pub mass: f32,
    pub volume: f32, // Used for 'Size Matters' interception logic
    pub intensity: u8, // For mid-air negation/negation logic
}
```
  </action>
</task>

</tasks>

<verification>
- `cargo check -p omega-core` compiles without errors
- Stats::default() or archetypes include weight
</verification>
