---
phase: 02-projectile-ecs
plan: 04
type: execute
wave: 4
depends_on: ["02-03"]
files_modified:
  - crates/omega-bevy/src/presentation/targeting.rs
  - crates/omega-bevy/src/presentation/mod.rs
autonomous: true

must_haves:
  truths:
    - "Temporal Ghost UI shows predicted path glyphs"
    - "Blast Radius is highlighted with linear falloff visualization"
    - "Reaction Icons (Steam/Mud) predict CA interactions"
---

<objective>
Implement the advanced targeting UI ('Arcane Cartographer') with predictive feedback.

Output: Targeting UI systems in omega-bevy.
</objective>

<tasks>

<task type="auto">
  <name>Task 1: Implement predictive trajectory visualization</name>
  <files>
    crates/omega-bevy/src/presentation/targeting.rs
  </files>
  <action>
Implement `TargetingState` and UI:
- Calculate predicted path using same math as `projectile_movement_system`.
- Render 'Temporal Ghost' glyphs (pulsing in element color) along the path.
- If projectile will explode, highlight the 'Blast Radius' tiles.
  </action>
</task>

<task type="auto">
  <name>Task 2: Implement reaction preview icons</name>
  <files>
    crates/omega-bevy/src/presentation/targeting.rs
  </files>
  <action>
For each tile in the predicted path/impact:
- Peek at the `CaGrid` state.
- Predict reaction (e.g. if Fireball hits Water tile -> Steam).
- Render a small icon or glyph over the tile to preview the reaction.
  </action>
</task>

</tasks>

<verification>
- `cargo check -p omega-bevy` passes
</verification>
